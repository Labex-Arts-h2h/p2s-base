<div>
    
    <div class="row">
        <div class="col-md-8">
            <h3 class="title-page">
                <span class="glyphicon glyphicon-star"></span> 
                 Pièces
            </h3>
            <a class="btn btn-success btn-title" ui-sref="newPiece">
                <i class="glyphicon glyphicon-plus"></i>
            </a>

        </div>
        <div class="col-md-4">
            <input type="text" ng-model="search" ng-change="filter()" placeholder="Recherche" class="form-control" />        
        </div>
    </div>

    

    <table class="table table-striped table-bordered">
        <thead>
            <th>Nom&nbsp;<a ng-click="sort_by('nom');"><i class="glyphicon glyphicon-sort"></i></a></th>
            <th>Description&nbsp;<a ng-click="sort_by('descriptif');"><i class="glyphicon glyphicon-sort"></i></a></th>
            <th>Date</th>
            <th>Actions</th>
        </thead>
        <tbody>



            <tr ng-repeat="piece in filtered = (pieces | filter:search | orderBy : predicate :reverse)">
                <td>{{piece.nom}}</td>
                <td>{{piece.descriptif}}</td>
                <td>
                    <ul ng-repeat="dates in piece.dates">
                        <li><strong>{{dates.description}}</strong> : {{dates.date| date:'dd-MM-yyyy'}}</li>
                    </ul>
               </td>
                <td>
                    <a class="btn btn-primary" ui-sref="editPiece({id:piece.id})">
                        <i class="glyphicon glyphicon-pencil"></i>
                    </a>
                    <a class="btn btn-danger" data-animation="am-fade-and-slide-top" data-template="views/modal/confirmDelete.tpl.html"  data-placement="center" data-title="Suppression" data-content="Effacer cette pièce ?" bs-modal="modal">
                        <i class="glyphicon glyphicon-remove"></i>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>
</div>
